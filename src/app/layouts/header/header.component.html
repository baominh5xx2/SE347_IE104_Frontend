<header
  [class.header-transparent]="!isScrolled && isHomePage"
  [class.header-scrolled]="isScrolled && isHomePage"
  [class.header-solid]="!isHomePage"
  class="fixed top-0 left-0 w-full z-50"
>
  <div class="header-wrapper">
    <div class="container mx-auto flex flex-col px-8">
      <div class="flex items-center justify-between header-top">
        
        <div class="logo">
          <a routerLink="/home" class="logo-link">
            <h2
              [class.text-white]="!isScrolled && isHomePage"
              [class.text-gradient-blue]="isScrolled || !isHomePage"
              class="logo-text">
              UITravel
            </h2>
          </a>
        </div>

        <div class="flex items-center gap-10">
          <nav
            [class.nav-white]="!isScrolled && isHomePage"
            [class.nav-dark]="isScrolled || !isHomePage"
            class="hidden lg:flex items-center"
            aria-label="Main navigation">
            @for (item of topMenu; track $index) {
              <a 
                [routerLink]="item.url" 
                class="menu-item">
                {{ item.label }}
              </a>
            }
          </nav>

          <div class="flex items-center gap-3">
            <ng-container *ngIf="isAuthenticated">
              <button
                (click)="openChatbot()"
                [class.btn-outline-white]="!isScrolled && isHomePage"
                [class.btn-outline-dark]="isScrolled || !isHomePage"
                class="action-btn">
                AI Agent
              </button>
            </ng-container>
            
            <ng-container *ngIf="!isAuthenticated">
              <a
                routerLink="/login"
                [class.btn-outline-white]="!isScrolled && isHomePage"
                [class.btn-outline-blue]="isScrolled || !isHomePage"
                class="action-btn">
                Đăng nhập
              </a>
              <a 
                routerLink="/register" 
                class="action-btn btn-primary">
                Đăng ký
              </a>
            </ng-container>

            <ng-container *ngIf="isAuthenticated && currentUser">
              <a
                routerLink="/profile"
                [class.btn-outline-white]="!isScrolled && isHomePage"
                [class.btn-outline-dark]="isScrolled || !isHomePage"
                class="action-btn">
                {{ currentUser.full_name }}
              </a>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

@if (showChatbot) {
  <app-ai-chatbot (close)="closeChatbot()"></app-ai-chatbot>
}
